---
# yamllint disable rule:line-length
lookup_options:
  jenkinsx::casc:
    merge:
      strategy: deep
      merge_hash_arrays: false
      sort_merged_arrays: false
jenkinsx::casc:
  jenkins:
    nodes:
      - permanent: &osx_node
          labelString: 'osx osx-10.13 high_sierra'
          mode: EXCLUSIVE
          name: high_sierra-1
          numExecutors: 1
          remoteFS: /Users/square/j
          launcher:
            sSHLauncher: &osx_ssh
              credentialsId: sqre-osx
              host: mac1.lsst.cloud
              launchTimeoutSeconds: 210
              maxNumRetries: 0
              port: 22
              retryWaitTime: 15
              prefixStartSlaveCmd: "export PATH=/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin;"
              sshHostKeyVerificationStrategy:
                manuallyTrustedKeyVerificationStrategy:
                  requireInitialManualTrust: true
          nodeProperties:
            - envVars:
                env:
                  - key: 'PATH+LOCAL_BIN'
                    value: /usr/local/bin
      - permanent:
          <<: *osx_node
          name: high_sierra-2
          launcher:
            sSHLauncher:
              <<: *osx_ssh
              host: mac2.lsst.cloud
      - permanent:
          <<: *osx_node
          labelString: 'osx osx-10.14 mojave'
          name: mojave-1
          launcher:
            sSHLauncher:
              <<: *osx_ssh
              host: mac3.lsst.cloud
      - permanent:
          <<: *osx_node
          labelString: 'osx osx-10.14 mojave'
          name: mojave-2
          launcher:
            sSHLauncher:
              <<: *osx_ssh
              host: mac4.lsst.cloud
      - permanent:
          <<: *osx_node
          labelString: 'osx osx-10.14 mojave'
          name: mojave-3
          launcher:
            sSHLauncher:
              <<: *osx_ssh
              host: mac5.lsst.cloud
      - permanent:
          <<: *osx_node
          labelString: 'osx osx-10.14 mojave'
          name: mojave-4
          launcher:
            sSHLauncher:
              <<: *osx_ssh
              host: mac6.lsst.cloud
  credentials:
    system:
      domainCredentials:
        - credentials:
            - string:
                id: slack-default-channel
                scope: GLOBAL
                description: 'Default slack channel'
                secret: dm-jenkins
            - string:
                id: slack-channel-prefix
                scope: GLOBAL
                description: 'Prefix for generated slack channels'
                secret: dmj
            - basicSSHUserPrivateKey:
                id: sqre-osx
                scope: GLOBAL
                description: 'SQRE OSX build agents'
                username: "${osx_ssh_user}"
                privateKeySource:
                  directEntry:
                    privateKey: "${osx_ssh_private_key}"
            - usernamePassword:
                id: aws-cmirror-push
                scope: GLOBAL
                description: push conda packages -> s3
                username: "${cmirror_aws_access_key_id}"
                password: "${cmirror_aws_secret_access_key}"
            - usernamePassword:
                id: github_backup
                scope: GLOBAL
                description: 'github_backup AWS credentials'
                username: "${github_backup_aws_access_key_id}"
                password: "${github_backup_aws_secret_access_key}"
            - usernamePassword:
                id: squash-api-user
                scope: GLOBAL
                description: 'user/pass for Squash API endpoint'
                username: "${squash_api_user}"
                password: "${squash_api_pass}"
            - usernamePassword:
                id: ltd-mason-aws
                scope: GLOBAL
                description: ltd-mason
                username: ENC[PKCS7,MIIBiQYJKoZIhvcNAQcDoIIBejCCAXYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAVUsvm7n6B2MtN6Kp0+CG9VxGBO0WVxdz0bXI79zZc3HDlyAgFz8NjERFKh8M6XbY9NE6y4v7OwzgHVnAuqLhnUiFYhRnyim8pkbx43HwxrAd0EgYCfur0nIFF/5QUeMcrGqwtI2M8kIZqN0pQAf4R0tZRY6gpFCPR1cj77OlA/ZNkp51ypanT34wLI+5PAlnsP+Vluwn96g4/+CVbVLnqxRv97D20FGsvBRl280W0uuA8cOBHCMmPzGAYYPGoR1f5MkPIMsgMmgVXh6VsjjQApKJRA8G6PxbF3rlbvfmszcsRlMviIjJgV1DNlGaWlS3zaDiJq0dJl3X88yK+TxVJzBMBgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBDWRSIHstF5fOYmCRROVZ4tgCDosSK4J/iVBu1EfqDLSOWH1pjGgErKc5A8N9xhswUsFw==]
                password: ENC[PKCS7,MIIBmQYJKoZIhvcNAQcDoIIBijCCAYYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAPuJ84BAnNebJ5vSDlGk0gt0nTSn/kTXb9DBhNxlcYD0WY/aQNPgDvxbjOfBfTneIJ6ndTya3KR2yqwtG/lpy9tbjl3xPJhrQFmGWLE6Tr6tlgQMXqzcAyRSwRx//jVRZA0ClEGcEUk9y9XqfWpqfDDinHwpBHQjsSKUfG+r+sEcNX0yhx6QIVOZabOM4mgf9imTrKfYaD3gYe5x1YGYi9StzT1UrO7Yyl4DYYDbG5leiiSN9E0pl4Q33M+4ORj8sN9e/cmo5rIyVfeD/nkDkILMCu/kLg1uVI/pLudgaOSDDRxZ4sQ4q7xigikzgDckdHyLHTkBAEXE4k3603M838TBcBgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBC38nNHNPw0qNT/YMcbOROWgDDQlqFg3u3DoISxJ6cb3bCqcjAjmjUpYgnvQXZDRH1iE1/A3+SS+BCOMLE50w+HZaI=]
            - usernamePassword:
                id: ltd-keeper
                scope: GLOBAL
                description: ltd-keeper
                username: ENC[PKCS7,MIIBeQYJKoZIhvcNAQcDoIIBajCCAWYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAlebOS6hd36Wl7sHpCuhq/Rigw0LVTgReS7wbNWeA6Dg5dL6FcoHiPg/qW/knJ6Gt+jFPfNI2fIiGla52Rt8qlJz44jDqvdDTcGGVfmydkIS2H8Y9BeTEfnYGqCb/WuAyExKlmPB8W50ckW5hz345CqrDkSzgP6Z+h1XFBOvGqjtreNcHMmZpmH4RlniYerEoLCErs1Ppkrdbq+ScKMN2u+KIO0lrdBq21V/PqBbbu7VjyWjEU7X6VwsffbS6b1+L4sn5c9h238oMnQyU7gbOvsQpgOuS5pfi/+3TA2uvW/+xENkTzoixQF+7cKZXLyg/VHOlZsuarHaNFADZd3FBXDA8BgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBCdslMKQNRG5nOFFIwecwHHgBDzlNPo4TkAU9Y+22U5VCYn]
                password: ENC[PKCS7,MIIBiQYJKoZIhvcNAQcDoIIBejCCAXYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEACAQg0LhY2j62OWI8MpvFYpMCd7r3KWK8eHqdi0jbF1/adO1zo9R1Q8Pj4svSioohex8+0lbvH1GDbat/Ql2b7o7YDtlP6VTCtquO3tvaBz2OH6FVhlyZw98lpeSpGoLrauijGM+xKjTGaSJ+aeu15XS4qJffpwe2o0w++jfqO8/dqnbrre7S1BIF6pVwh9aVmHKrQSVd3sFmMD/PDct8RLMzi3SLoACFc/BZMAGtwRWfZDHc+6z5iZhRRx/wyrevdC5R9zg/Q6JLMMc+AdxeYX7SPwmzrnh0IyNoFT37lrNe3r1UzUk6wfi5wMSvXoBrzFQYjslo91kg/97k9RFCcjBMBgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBCzfBYEW2ux2rE7BWXJplnggCBtv9JdbN9tjez83qwxHgZGP3Ra+HMHCZD/ZVk4Lajt0w==]
